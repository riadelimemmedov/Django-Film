{% extends "base.html" %}
{% load static %}

{% block title %} My Favorite Films {% endblock title %}

<!-- userfavoritegrid13:40-->

<body>
{% block content %}
    <div class="hero user-hero">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="hero-ct">
                        <h1>{{profile.user.first_name}}&nbsp;{{profile.user.last_name}}â€™s profile</h1>
                        <ul class="breadcumb">
                            <li class="active"><a href="{% url 'movie:home' %}">Home</a></li>
                            <li> <span class="ion-ios-arrow-right"></span>Favorite movies</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="page-single">
        <div class="container">
            <div class="row ipad-width2">

                <!-- !User Information -->
                {% include "userinformation.html" %}

                <div class="col-md-9 col-sm-12 col-xs-12">
                    <div class="topbar-filter user">
                        <p>Found <span>{{filmsAll|length}} movies</span> in total</p>
                    </div>

                    <!-- !Favorite Films List -->
                    <div class="flex-wrap-movielist grid-fav">
                        {% for filmsFav in filmsFavs %}
                            <div class="movie-item-style-2 movie-item-style-1 style-3">
                                <img src="{{filmsFav.image_movie.url}}" alt="">
                                <div class="hvr-inner">
                                    <a  href="{% url 'movie:detailfilm' filmsFav.slug_movie %}"> Read more <i class="ion-android-arrow-dropright"></i> </a>
                                </div>
                                <div class="mv-item-infor">
                                    <h6><a href="{% url 'movie:detailfilm' filmsFav.slug_movie %}">{{filmsFav.title_movie}}</a></h6>
                                    <p class="rate"><i class="ion-android-star"></i><span>{{filmsFav.avarage_ibdm}}</span> /10</p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>	    
                

                    <div class="topbar-filter">
                        <label>Movies Pagination:</label>
                
                        {% if filmsFavs.has_other_pages %}
                            <div class="pagination2">
                                
                                {% if filmsFavs.has_previous %}
                                    <a href="?page={filmsFavs.previous_page_number}"><i class="ion-arrow-left-b"></i></a>
                                {% endif %}

                                {% for i in filmsFavs.paginator.page_range %}
                                    {% if filmsFavs.number == i %}
                                        <!-- <input type="hidden" id="currentIdPage" name="currentPage" value="{{i}}"> -->
                                        <!--<span> Page: &nbsp;{{i}} of &nbsp;{{paginator.num_pages}}:</span> !Burani duzeltmek lazimdir -->
                                        <a class="active" href="">{{i}}</a>
                                    {% else %}
                                        <a href="?page={{i}}">{{i}}</a>
                                    {% endif %}
                                {% endfor %}

                                {% if filmsFavs.has_next %}
                                    <a href="?page={{filmsFavs.next_page_number}}"><i class="ion-arrow-right-b"></i></a>
                                {% endif %}

                            </div>
                        {% endif %}
                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock content %}
</body>

    {% block scripts %}
        <script type="text/javascript" src="{% static 'profiles/my_favorite.js' %}" defer></script>
    {% endblock scripts %}



</html>